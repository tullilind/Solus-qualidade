<!DOCTYPE html>
<html class="light" lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Bioteste Solus - Manual Administrativo</title>
    <link rel="icon" type="image/png" href="../logo.png">

    <!-- 1. DEPENDÊNCIAS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    
    <!-- Config do Tailwind -->
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "bioteste-primary": "#005A9C",
                        "bioteste-secondary": "#4D9DE0",
                        "bioteste-bg-light": "#F4F7FA",
                        "bioteste-text-body": "#6B7280",
                        "bioteste-text-heading": "#111827"
                    },
                    fontFamily: { "display": ["Inter", "sans-serif"] },
                },
            },
        }
    </script>

    <style>
        body { visibility: hidden; opacity: 0; transition: opacity 0.3s ease-in-out; }
        body.loaded { visibility: visible; opacity: 1; }
        
        /* Smooth Scroll */
        html { scroll-behavior: smooth; scroll-padding-top: 100px; }

        .manual-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .manual-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>

<body class="font-display bg-bioteste-bg-light overflow-hidden">

    <!-- 2. ESTRUTURA DO LAYOUT -->
    <div class="flex h-screen w-full">
        
        <!-- Sidebar (Injetado) -->
        <aside id="app-sidebar" class="fixed left-0 top-0 z-10 flex h-full w-64 flex-col bg-white/90 backdrop-blur-lg border-r border-gray-200/80 shadow-sm transition-transform duration-300 lg:translate-x-0 -translate-x-full"></aside>

        <!-- Main Content -->
        <main class="lg:ml-64 w-full flex-1 flex-col h-full overflow-y-auto relative">
            
            <!-- Header (Injetado) -->
            <header id="app-header" class="flex items-center justify-between whitespace-nowrap border-b border-solid border-gray-200 bg-white/80 backdrop-blur-md px-6 py-4 sticky top-0 z-20"></header>

            <!-- ============================================================ -->
            <!-- 3. CONTEÚDO: MANUAL ADMINISTRATIVO                           -->
            <!-- ============================================================ -->
            <div class="p-6 lg:p-10 max-w-5xl mx-auto w-full pb-24" id="main-content">
                
                <!-- Cabeçalho da Página -->
                <div class="mb-10 text-center sm:text-left border-b border-gray-200 pb-8">
                    <div class="inline-flex items-center justify-center p-3 bg-purple-50 rounded-full mb-4 text-purple-600">
                        <span class="material-symbols-outlined text-3xl">local_library</span>
                    </div>
                    <h1 class="text-3xl sm:text-4xl font-black text-bioteste-text-heading tracking-tight">Manual do Gestor</h1>
                    <p class="text-lg text-bioteste-text-body mt-2 max-w-2xl">Documentação oficial das ferramentas de gestão, qualidade e controle de acesso do Sistema Solus.</p>
                </div>

                <!-- Navegação Rápida -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
                    <a href="#qualidade" class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm manual-card flex flex-col items-center text-center gap-2 group">
                        <span class="material-symbols-outlined text-bioteste-primary text-2xl group-hover:scale-110 transition-transform">analytics</span>
                        <span class="font-bold text-sm text-gray-700">Gestão da Qualidade</span>
                    </a>
                    <a href="#relatorios" class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm manual-card flex flex-col items-center text-center gap-2 group">
                        <span class="material-symbols-outlined text-orange-500 text-2xl group-hover:scale-110 transition-transform">folder_shared</span>
                        <span class="font-bold text-sm text-gray-700">Relatórios Gerais</span>
                    </a>
                    <a href="#usuarios" class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm manual-card flex flex-col items-center text-center gap-2 group">
                        <span class="material-symbols-outlined text-green-600 text-2xl group-hover:scale-110 transition-transform">manage_accounts</span>
                        <span class="font-bold text-sm text-gray-700">Controle de Acesso</span>
                    </a>
                    <a href="#seguranca" class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm manual-card flex flex-col items-center text-center gap-2 group">
                        <span class="material-symbols-outlined text-red-500 text-2xl group-hover:scale-110 transition-transform">security</span>
                        <span class="font-bold text-sm text-gray-700">Segurança & Auditoria</span>
                    </a>
                </div>

                <!-- SEÇÃO: GESTÃO DA QUALIDADE -->
                <section id="qualidade" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="material-symbols-outlined text-2xl text-bioteste-primary bg-blue-50 p-2 rounded-lg">analytics</span>
                        <h2 class="text-2xl font-bold text-gray-800">1. Gestão da Qualidade (NPS)</h2>
                    </div>
                    
                    <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden">
                        <div class="p-6 md:p-8 space-y-6">
                            <p class="text-gray-600 text-sm">
                                O módulo de qualidade cruza automaticamente os dados de produção (atendimentos) com o feedback dos clientes (pesquisas) para gerar métricas precisas de satisfação.
                            </p>

                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="border border-gray-100 rounded-xl p-4 bg-gray-50">
                                    <h3 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                                        <span class="material-symbols-outlined text-green-600 text-sm">dashboard</span>
                                        Dashboard de KPIs
                                    </h3>
                                    <ul class="text-xs text-gray-600 space-y-2 list-disc list-inside">
                                        <li><strong>Taxa de Retorno:</strong> Calcula automaticamente a porcentagem de pacientes que responderam à pesquisa em relação ao total atendido.</li>
                                        <li><strong>Comparativo por Unidade:</strong> Gráfico de barras duplas que mostra volume de produção vs. feedback lado a lado.</li>
                                        <li><strong>Normalização Inteligente:</strong> O sistema corrige automaticamente nomes de unidades (ex: "Jones" vira "Bioteste Jones dos Santos Neves") para evitar duplicidade nos gráficos.</li>
                                    </ul>
                                </div>

                                <div class="border border-gray-100 rounded-xl p-4 bg-gray-50">
                                    <h3 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                                        <span class="material-symbols-outlined text-purple-600 text-sm">content_paste_search</span>
                                        Pesquisa Detalhada
                                    </h3>
                                    <ul class="text-xs text-gray-600 space-y-2 list-disc list-inside">
                                        <li><strong>Aba Estratégica:</strong> Gráficos de satisfação por quesito (Recepção, Coleta, Prazo) e distribuição de motivação.</li>
                                        <li><strong>Aba Voz do Cliente:</strong> Filtra apenas as pesquisas que possuem <strong>comentários escritos</strong> ou <strong>identificação do paciente</strong>, permitindo ação rápida sobre críticas.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SEÇÃO: RELATÓRIOS GERAIS -->
                <section id="relatorios" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="material-symbols-outlined text-2xl text-orange-500 bg-orange-50 p-2 rounded-lg">folder_shared</span>
                        <h2 class="text-2xl font-bold text-gray-800">2. Relatórios Gerais & Operacional</h2>
                    </div>

                    <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-6 md:p-8 space-y-6">
                        <div class="flex flex-col gap-4">
                            <div class="flex items-start gap-4">
                                <div class="bg-red-100 text-red-600 p-2 rounded-full flex-shrink-0">
                                    <span class="material-symbols-outlined">delete_sweep</span>
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800 text-sm">Limpeza e Exclusão em Massa</h3>
                                    <p class="text-xs text-gray-500 mt-1">
                                        Na tela de "Relatórios Gerais", utilize as caixas de seleção (checkboxes) na tabela para marcar múltiplos itens. 
                                        Ao selecionar, uma barra vermelha surgirá permitindo excluir todos os registros marcados de uma vez.
                                        <br>
                                        <span class="text-red-500 font-bold">Atenção:</span> Esta ação é irreversível e remove os dados permanentemente do banco de dados.
                                    </p>
                                </div>
                            </div>

                            <div class="flex items-start gap-4 border-t border-gray-100 pt-4">
                                <div class="bg-blue-100 text-blue-600 p-2 rounded-full flex-shrink-0">
                                    <span class="material-symbols-outlined">print</span>
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800 text-sm">Impressão Inteligente e CSV</h3>
                                    <p class="text-xs text-gray-500 mt-1">
                                        O botão <strong>Imprimir PDF</strong> gera um documento limpo, removendo menus, botões e cores de fundo desnecessárias, ideal para reuniões.
                                        <br>
                                        O botão <strong>Exportar CSV</strong> baixa os dados filtrados em formato compatível com Excel, respeitando acentuação (UTF-8 BOM).
                                    </p>
                                </div>
                            </div>
                            
                            <div class="flex items-start gap-4 border-t border-gray-100 pt-4">
                                <div class="bg-yellow-100 text-yellow-600 p-2 rounded-full flex-shrink-0">
                                    <span class="material-symbols-outlined">notification_important</span>
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800 text-sm">Alerta de Prazos (Resultados)</h3>
                                    <p class="text-xs text-gray-500 mt-1">
                                        Um painel amarelo aparece automaticamente no topo se houver exames com <strong>Previsão de Resultado para Hoje</strong>.
                                        Isso ajuda a monitorar pendências críticas por unidade antes que se tornem atrasos.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SEÇÃO: USUÁRIOS -->
                <section id="usuarios" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="material-symbols-outlined text-2xl text-green-600 bg-green-50 p-2 rounded-lg">manage_accounts</span>
                        <h2 class="text-2xl font-bold text-gray-800">3. Controle de Acesso (Usuários)</h2>
                    </div>

                    <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden">
                        <div class="p-6 md:p-8">
                            <div class="grid md:grid-cols-2 gap-8">
                                <div>
                                    <h4 class="font-bold text-gray-800 mb-3">Níveis de Acesso</h4>
                                    <ul class="space-y-3 text-sm text-gray-600">
                                        <li class="flex items-center gap-2">
                                            <span class="px-2 py-0.5 rounded bg-purple-100 text-purple-700 text-xs font-bold border border-purple-200">ADM</span>
                                            <span>Acesso total a relatórios, exclusão e gestão de usuários. Redirecionado para o Painel Qualidade.</span>
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span class="px-2 py-0.5 rounded bg-blue-100 text-blue-700 text-xs font-bold border border-blue-200">FUNCIONÁRIO</span>
                                            <span>Acesso operacional (cadastrar atendimento, ver lista). Redirecionado para o Dashboard Operacional.</span>
                                        </li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-bold text-gray-800 mb-3">Gerenciamento</h4>
                                    <p class="text-xs text-gray-500 mb-2">
                                        Na tela "Gerenciar Usuários", você pode:
                                    </p>
                                    <ul class="list-disc list-inside text-xs text-gray-600 space-y-1">
                                        <li><strong>Cadastrar:</strong> Login, senha inicial e unidade padrão.</li>
                                        <li><strong>Editar:</strong> Alterar unidade, nível de acesso ou status. A senha só é alterada se preenchida.</li>
                                        <li><strong>Bloquear:</strong> Mude o status para "Inativo" para impedir o acesso sem excluir o histórico.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SEÇÃO: SEGURANÇA -->
                <section id="seguranca" class="mb-8">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="material-symbols-outlined text-2xl text-red-500 bg-red-50 p-2 rounded-lg">security</span>
                        <h2 class="text-2xl font-bold text-gray-800">4. Segurança Avançada</h2>
                    </div>

                    <div class="bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl shadow-lg p-8 text-white">
                        <div class="flex flex-col md:flex-row items-center gap-6">
                            <div class="flex-1">
                                <h3 class="text-xl font-bold mb-2 text-red-400">Proteção ArtSecure</h3>
                                <p class="text-sm text-gray-300 mb-4">
                                    Todas as páginas administrativas estão protegidas pelo módulo <code>art.secure.js</code>.
                                </p>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs text-gray-400">
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-red-500">block</span>
                                        Bloqueio de F12 / Inspeção
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-red-500">phonelink_off</span>
                                        Acesso Mobile Bloqueado
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-green-500">vpn_lock</span>
                                        Monitoramento de Login
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-green-500">verified_user</span>
                                        Validação de Token por E-mail
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white/10 p-4 rounded-xl border border-white/10 backdrop-blur-sm text-center min-w-[200px]">
                                <span class="material-symbols-outlined text-4xl text-yellow-400 mb-2">warning</span>
                                <p class="text-xs font-bold text-white">Tentativas de Violação</p>
                                <p class="text-[10px] text-gray-300 mt-1">Usuários suspeitos são banidos temporariamente por 3 dias automaticamente.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Dúvidas -->
                <div class="mt-12 text-center border-t border-gray-200 pt-8">
                    <p class="text-gray-500 text-sm">
                        Dúvidas técnicas? Entre em contato com o suporte <strong>Artificial Ribeiro</strong>.
                    </p>
                </div>

            </div>
        </main>
    </div>

    <!-- 4. MÓDULOS -->
    <script src="../art.secure.js"></script>
    <script src="layout.adm.js"></script>

    <!-- 5. LÓGICA -->
    <script>
        window.onload = function() {
            // 1. Inicializa o Motor de Layout ADM
            if (typeof BiotesteLayoutAdm !== 'undefined') {
                BiotesteLayoutAdm.init('manual'); // ID do menu ativo
            } else {
                alert("Erro crítico: layout.adm.js não carregado.");
            }
        };
    </script>
</body>
</html>